define(["jquery","underscore","underscorestring"],function(n,t){return t.mixin(t.str.exports()),{scrollTop:function(){n("html, body").animate({scrollTop:0},"slow")},openWindow:function(n,t,i,r){var u="width="+(i||500)+",height="+(r||500);return window.open(n,t,u)},bookmarkPage:function(t,i){if(t=t||document.title,i=i||window.location,n.browser.mozilla)window.sidebar.addPanel(t,i,"");else if(n.browser.msie)window.external.AddFavorite(i,t);else if(window.opera&&window.print){var r=document.createElement("a");r.setAttribute("href",i),r.setAttribute("title",t),r.setAttribute("rel","sidebar"),r.click()}else alert("Unfortunately, this browser does not support the requested action, please bookmark this page manually.")},sendClientMail:function(n){var i="mailto:"+encodeURIComponent(n.mailto)+"?";n.cc&&(i+="cc="+encodeURIComponent(n.cc)+"&"),n.subject&&(i+="subject="+encodeURIComponent(n.subject)+"&"),n.body&&(i+="body="+encodeURIComponent(n.body)+"&"),t.rtrim(i,"?&"),setTimeout(function(){window.location.href=i},1e3)},convertToBoolean:function(n){if(!this.isDefined(n))return!1;if(typeof n=="string")switch(n.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1}return Boolean(n)},parseJson:function(t){return JSON&&JSON.parse(t)||n.parseJSON(t)},parseRss:function(i,r,u){r=r||{},typeof r!="function"||u||(u=r,r={}),n.get(i,function(i){var f=[];n(i).find("item").each(function(i){var u=n(this);return f.push({title:r.maxTitleChars?t.truncate(u.find("title").text(),r.maxTitleChars):u.find("title").text(),description:r.maxDescriptionChars?t.truncate(t.stripTags(u.find("description").text()),r.maxDescriptionChars):t.stripTags(u.find("description").text()),link:u.find("link").text(),pubDate:moment(u.find("pubDate").text(),r.parseFormat||"ddd, DD, MMM YYYY hh:mm:ss Z").format(r.dateFormat||"dddd, MMMM DD, YYYY"),author:u.find("author").text()}),r.maxItems&&r.maxItems<=i+1?!1:void 0}),u(f)})},isDeferred:function(n){var r=!1,u,i;if(n)for(r=!0,u=t.toArray(n),i=0;i<u.length;i++)if(!u[i].promise){r=!1;break}return r},isNullOrEmpty:function(n){return typeof n=="undefined"||n===null||n.length===0},getValueOrDefault:function(n,t){return this.isNullOrEmpty(n)?t:n}}});