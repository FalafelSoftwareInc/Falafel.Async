define(["jquery","can","notifier","blockUI"],function(n,t,i){return{initLoading:function(t,i){n.blockUI({message:t||'<div class="loading-page"><\/div>',timeout:i||3e4,css:{backgroundColor:"#000",border:"none","-webkit-border-radius":"10px","-moz-border-radius":"10px",borderRadius:"10px",opacity:.8,padding:"25px",color:"#fff",fontSize:"42px;",fontFamily:'"Arial Black", Gadget, sans-serif',fontWeight:"bold",zIndex:99999}})},exitLoading:function(){n.unblockUI()},notifySuccess:function(n,t){this.exitLoading(),i.success(n,t)},notifyInfo:function(n,t){this.exitLoading(),i.info(n,t)},notifyWarning:function(n,t){this.exitLoading(),i.warning(n,t)},notifyError:function(n,t){this.exitLoading(),i.error(n,t)},notify:function(n,t,r,u){this.exitLoading(),i.notify(n,t,r,u)},success:function(n,t){t=t||{},this.show(n,{title:t.title||"Success!",cssClass:"alert-success",container:t.container})},info:function(n,t){t=t||{},this.show(n,{title:t.title||"Info!",cssClass:"alert-info",container:t.container})},warning:function(n,t){t=t||{},this.show(n,{title:t.title||"Warning!",cssClass:"alert-warning",container:t.container})},error:function(n,t){if(t=t||{},t.errors&&t.errors.length>0){n+=": <br /><ul>";for(var i=0;i<errors.length;i++)n+="<li>"+errors[i]+"<\/li>";n+="<\/ul>"}this.show(n,{title:t.title||"Error!",cssClass:"alert-error",container:t.container}),t.validations&&t.validations.length>0&&this.displayValidations(t.validations,t.container)},show:function(t,i){i=i||{},this.clear(i.container),i.container=i.container||n(document),i.scrollTop=i.scrollTop||!0,i.close=typeof i.close!="undefined"&&option.close!==null?i.close:!0,n(".main-message",i.container).removeClass("alert-error alert-warning alert-success alert-info").addClass(i.cssClass).html((i.close?'<button type="button" class="close" data-dismiss="alert">&times;<\/button>':"")+"<strong>"+i.title+"<\/strong> "+t).show(),i.scrollTop&&this.scrollTop(),this.exitLoading()},clear:function(t){t=t||n(document),n(".main-message",t).empty().hide(),this.clearValidations(t)},hide:function(t){t=t||n(document),n(".main-message",t).hide()},displayValidations:function(t,i){var r,e,u,f;if(t)for(i=i||n(document),r=0;r<t.length;r++)e=n('*[name="'+t[r].Property+'"]',i).closest(".control-group"),e.length>0?n(".validation-bubble div",e).html(t[r].ErrorMessage).parent().show():(u=n(".main-message",i),f=u.find("ul"),f.length===0&&(u.append("<ul />"),f=u.find("ul")),f.append("<li>"+t[r].Property+": "+t[r].ErrorMessage+"<\/li>"))},clearValidations:function(t){t=t||n(document),n(".validation-bubble div",t).empty().parent().hide()},display:function(n){var i,r,u,f;n=n||{},this.clear(n.container),i=n.success||t.route.attr("success"),i&&this.success(i),r=n.error||t.route.attr("error"),r&&this.error(r),u=n.info||t.route.attr("info"),u&&this.info(u),f=n.warning||t.route.attr("warning"),f&&this.warning(f)},scrollTop:function(){n("html, body").animate({scrollTop:0},"slow")}}});